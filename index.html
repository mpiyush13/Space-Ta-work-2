<!DOCTYPE html>
<html>
<head>
	<title>Google Sheets API Example</title>
	<script src="https://apis.google.com/js/api.js"></script>
	<script>
		// Client ID and API key from the Developer Console
		var CLIENT_ID = '695535465621-nvh69ub782dqd9m4sd1fi2ek932h9neu.apps.googleusercontent.com';
		var API_KEY = 'AIzaSyADxxccYpnR9qdieLLXwQwLkUbZlCBr3pg';

		// Array of API discovery doc URLs for APIs used by the application
		var DISCOVERY_DOCS = ["https://sheets.googleapis.com/$discovery/rest?version=v4"];

		// Authorization scopes required by the API
		var SCOPES = "https://www.googleapis.com/auth/spreadsheets";

		// Load the API client library asynchronously
		function handleClientLoad() {
			console.log("hey Piyush")
			gapi.load('client:auth2', initClient);
		}

		// Initialize the API client library and set up sign-in state listeners
		function initClient() {
			gapi.client.init({
				apiKey: API_KEY,
				clientId: CLIENT_ID,
				discoveryDocs: DISCOVERY_DOCS,
				scope: SCOPES
			}).then(function () {
				// Make an API call to get data from the Google Sheet
				gapi.client.sheets.spreadsheets.values.get({
					spreadsheetId: '124IzGNQo8rMic181ZCyuE67ZVRkyux4bl6YKHa8k3GY',
					range: 'Sheet1!A1:B2'
				}).then(function(response) {
					console.log("This is response")
					var range = response.result;
					if (range.values.length > 0) {
						for (var i = 0; i < range.values.length; i++) {
							var row = range.values[i];
							console.log(row[0], row[1]);
						}
					} else {
						console.log('No data found.');
					}
				}, function(response) {
					console.log('Error: ' + response.result.error.message);
				});
			});
		}
	</script>
</head>
<body>
	<!-- Load the API client and auth2 libraries -->
	<script src="https://apis.google.com/js/client:platform.js?onload=handleClientLoad"></script>
</body>
</html>